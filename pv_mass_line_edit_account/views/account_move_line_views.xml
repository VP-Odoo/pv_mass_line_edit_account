<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="view_account_move_mass_selection" model="ir.ui.view">
    <field name="name">account.move.mass.selection</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account.view_move_form"/>
    <field name="arch" type="xml">

      <!-- Master toggle in a group above the tabs -->
      <xpath expr="//sheet/notebook" position="before">
        <group string="Mass Edit" colspan="4">
          <field name="select_all_lines"/>
        </group>
      </xpath>

      <!-- Per-line toggle in Journal Items list -->
      <xpath expr="//page[@id='aml_tab']//field[@name='line_ids']//list" position="inside">
        <field name="apply_all" widget="boolean_toggle"/>
      </xpath>

      <!-- Per-line toggle in Invoice Lines list -->
      <xpath expr="//page[@id='invoice_tab']//field[@name='invoice_line_ids']//list" position="inside">
        <field name="apply_all" widget="boolean_toggle"/>
      </xpath>

    </field>
  </record>
</odoo>
